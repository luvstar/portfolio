
# 1. 진정한 FW 개발을 위한 Library 안정화 프로젝트

#### 프로젝트 개요 및 소개

- 프로젝트 배경 : Library 안정화 프로젝트는 Overhead Hoist Transfer<sup>[1](OHT.md)</sup>의 이송을 담당하는 EtherCAT통신<sup>[2](EtherCAT통신.md)</sup>전용 MasterBoard<sup>[3](MasterBoard.md)</sup>의 API 최적화, 새로운 기능을 제공하는 Function 개발을 위해 진행된 프로젝트 입니다.
- 프로젝트 사용 기술 : Code Compose Studio, C, C++, JTAG xml
- 프로젝트 기간 :  2023.09 ~ 2023.11 [2개월]
- 프로젝트 발주 기관 : (주)시너스텍, (주)커미조아
- 프로젝트 진행 기관 : (주)커미조아

#### 프로젝트 내 역할

- 라이브러리 기능 개발 
- 장치 이송 알고리즘 최적화
- 고객과 지속적인 커뮤니케이션
- 임베디드 시스템 내부 자원 사용량 제어

#### 프로젝트 성과

- 라이브러리를 통해 통신 패킷의 송수신 시간 분석 기능 추가 및 배포
- 고객사와 원활한 관계 유지 
- Library Code에 대한 이해도 증가로 완성도 상승
- FW와 Library의 상호작용과 이해관계 습득
- 1천 만원 이상의 매출 발생

#### 프로젝트 진행 중 어려웠던 점과 해결법

- 작업한 라이브러리는 5년 전에 개발이 완료된 것이었고, 코드 분량이 방대하여 직접 제작한 소스 코드가 아닌 부분을 이해하고 작업을 진행하는 데 어려움이 있었습니다. 이를 해결하기 위해 사내의 해당 라이브러리에 대해 잘 아는 선임들에게 많은 질문을 하며 라이브러리의 구성을 이해해 나갔습니다. 이 과정을 통해 점차 작업 라이브러리에 대한 이해도가 높아졌고, 이해도가 상승하니 집중력도 증가하여 시간이 늦어지는 것도 잊고 작업을 진행할 수 있었습니다.

#### 프로젝트 진행 중 발생한 문제와 TroubleShooting

- OHT의 움직임을 컨트롤 하는 Library Function 알고리즘 최적화 진행 중 목표 위치에 정확히 도달하지 못하는 이슈가 발생 했습니다. Library 내에서 이송 완료 판단 알고리즘 내에서 마지막 이송<sup>[4](EtherCAT이송.md)</sup> 후 재귀 함수를 호출하고 정확한 위치에 도달하였는지 확인 후 이송 거리가 부족하면  추가 이송 하는 Sequence 도입으로 수정하였습니다.

- Library에서 제공하는 API 중에서 직선 이송 함수 호출 직후에 Override 함수 호출 시 Override 함수가 정상 수행되지 않는 이슈<sup>[5](Override이슈.md)</sup> 가 발생 했습니다. Override 함수가 정상 동작하기 위해서는 이송 완료 플래그가 올라와야 하는데, 이송 완료 플래그가 올라오지 않고 Override 함수가 호출된 경우 타이밍 Delay 이후 이송 완료 플래그 감시 함수를 다시 한번 호출하여 이송하도록 수정하였습니다. 